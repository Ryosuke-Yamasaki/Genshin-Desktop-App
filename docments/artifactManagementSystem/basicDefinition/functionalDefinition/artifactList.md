# 聖遺物一覧表示機能設計

## 機能概要

- 所持している聖遺物を把握しやすくするため
- テーブルで表示してフィルターやソートができるようにする

## 入力情報

なし

## 出力情報

- 登録されている全ての聖遺物一覧表示

## 処理フロー

```mermaid
stateDiagram-v2
  direction TB

  state if_filter <<choice>>
  state if_sort <<choice>>

  [*] --> 登録されている全ての聖遺物データを読み込む
  登録されている全ての聖遺物データを読み込む --> if_filter
  if_filter --> 条件に合致する聖遺物データを保持する : フィルター条件がある場合
  条件に合致する聖遺物データを保持する --> if_sort
  if_filter --> if_sort : フィルター条件がない場合
  if_sort --> 指定された項目を基準に並び替える : フィルター条件がある場合
  指定された項目を基準に並び替える --> 画面出力用にデータを整形する
  if_sort --> 画面出力用にデータを整形する : フィルター条件がない場合
  画面出力用にデータを整形する --> データを画面に出力する
```

## エラーハンドリング

- 想定されるエラーと対応（バリデーション失敗、DB エラーなど）
- 表示するエラーメッセージ
- ログ出力の要否と内容

## 使用データ・影響範囲

- 利用するエンティティ・テーブル名
- 更新・削除・挿入するデータ
- 他機能への影響（依存関係）

## トランザクション管理

- 処理全体をトランザクションでまとめるかどうか
- コミット/ロールバックの条件

## 権限・ロール制御（必要があれば）

- 処理の可否判断にユーザーの権限が関係するか
- 不許可時の動作（リダイレクト、エラー表示など）

## ログ出力

- ログに記録する内容（誰が、何を、いつ）
- ログレベル（info, warn, error など）

## 処理時間・性能要件（必要があれば）

- 性能目標（例：応答時間 3 秒以内）
- 処理件数の見積もり（バッチ処理の場合など）

## その他補足

- テスト観点（例：代表的なテストケース）
- 特記事項（制約、今後の変更予定など）
